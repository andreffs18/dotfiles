#!/usr/bin/env bash

# Install brew package manager
if test ! $(which brew)
then
  echo | /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
fi

# Update any recipes
brew update

log.info "##### Installing all Brewfile dependencies #####"
brew bundle --file=$DIRECTORY/install/Brewfile

log.info "Setup brew packages:"
log.info "> Dockutil"
source $DIRECTORY/config/mac/dockutil
log.info "> zsh"
source $DIRECTORY/config/mac/zsh

log.info "##### Installing all Caskfile dependencies #####"
brew bundle --file=$DIRECTORY/install/Caskfile

log.info "Setup cask packages:"

log.info "##### Installing all Masfile dependencies #####"
brew bundle --file=$DIRECTORY/install/Masfile

# Remove brew and cask old formulas
brew cleanup
brew cask cleanup
